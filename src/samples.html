<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>サンプル例文</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>
<body class="container py-4">
  <div id="root"></div>
  <script type="text/babel" data-presets="react">
    function App() {
      const [data, setData] = React.useState({});
      const [situation, setSituation] = React.useState('business');
      const [level, setLevel] = React.useState('beginner');

      React.useEffect(() => {
        fetch('data/samples.json')
          .then(res => res.json())
          .then(setData);
      }, []);

      const situations = Object.keys(data);
      const levels = ['beginner', 'intermediate', 'advanced'];

      const sentences = data[situation]?.[level] || [];

      return (
        <div>
          <h1 className="mb-3">サンプル例文</h1>
          <div className="row mb-3">
            <div className="col-auto">
              <select className="form-select" value={situation} onChange={e => setSituation(e.target.value)}>
                {situations && situations.map(s => <option key={s} value={s}>{s}</option>)}
              </select>
            </div>
            <div className="col-auto">
              <select className="form-select" value={level} onChange={e => setLevel(e.target.value)}>
                {levels.map(l => <option key={l} value={l}>{l}</option>)}
              </select>
            </div>
          </div>
          <ul className="list-group">
            {sentences.map((t, idx) => <li key={idx} className="list-group-item">{t}</li>)}
          </ul>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
